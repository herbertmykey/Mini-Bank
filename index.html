<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Mini Savings Group</title>
    <link rel="stylesheet" href="styles/style.css" />

</head>
<body>
    <div class="wrap">
        <header>
            <div>
                <h1>Mini Savings Group</h1>
                <p class="lead">Student registration, weekly interest simulation and withdrawals</p>
            </div>
            <div class="small muted">Weekly interest applies to current saved amount</div>
        </header>

        <!-- Registration Card -->
        <div class="card">
            <h3 style="margin:0 0 8px 0">Student Registration</h3>
            <p class="muted" style="margin:0 0 12px 0">Enter name and pick a tier. Amount is fixed per tier.</p>

            <div id="messageArea"></div>

            <form id="regForm" onsubmit="return false;">
                <label for="name">Student Name</label>
                <input id="name" type="text" placeholder="e.g., Chidimma Okeke" maxlength="60" required />

                <label style="margin-top:8px">Select Tier</label>
                <div class="tiers" role="radiogroup" aria-label="Tiers">
                    <div class="tier" data-tier="1" tabindex="0">
                        <div><strong>Tier 1</strong></div>
                        <small>₦10,000 — 5% weekly</small>
                    </div>
                    <div class="tier" data-tier="2" tabindex="0">
                        <div><strong>Tier 2</strong></div>
                        <small>₦20,000 — 10% weekly</small>
                    </div>
                    <div class="tier" data-tier="3" tabindex="0">
                        <div><strong>Tier 3</strong></div>
                        <small>₦30,000 — 20% weekly</small>
                    </div>
                </div>

                <label for="amount">Amount (₦) — auto-filled from tier</label>
                <input id="amount" type="number" min="0" step="0.01" required />

                <div class="info-grid">
                    <div class="info">
                        <div class="small">Weekly interest</div>
                        <b id="previewInterest">₦0.00</b>
                    </div>
                    <div class="info">
                        <div class="small">Total payout this week</div>
                        <b id="previewPayout">₦0.00</b>
                    </div>
                </div>

                <div style="display:flex;gap:8px;margin-top:14px;">
                    <button id="addBtn" class="button" type="button">Register Student</button>
                    <button id="clearBtn" class="button" type="button" style="background:#64748b;">Clear Form</button>
                </div>
            </form>

            <div style="margin-top:14px;">
                <div class="small muted">Validation: Amount must match selected tier. Name must not be empty.</div>
            </div>
        </div>

        <!-- Dashboard Card -->
        <div class="card dashboard">
            <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;">
                <div>
                    <h3 style="margin:0">Savings Dashboard</h3>
                    <div class="small muted">Overview of all members and totals</div>
                </div>
                <div style="display:flex;gap:8px;align-items:center;">
                    <button id="weeklyBtn" class="button btn-progress" title="Apply weekly interest">Apply Weekly Progress</button>
                    <button id="resetBtn" class="button" style="background:#e2e8f0;color:#0b1220;">Reset All</button>
                </div>
            </div>

            <div style="margin-top:12px;">
                <div class="totals" style="margin-bottom:10px;">
                    <div>
                        <div class="small">Total amount saved (sum of current balances)</div>
                        <div style="font-weight:700;font-size:18px;" id="totalSaved">₦0.00</div>
                    </div>
                    <div style="text-align:right">
                        <div class="small">Members</div>
                        <div style="font-weight:700;font-size:18px;" id="memberCount">0</div>
                    </div>
                </div>

                <div style="overflow:auto;max-height:480px;">
                    <table aria-label="Members table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Tier</th>
                                <th>Amount Saved</th>
                                <th>Weekly Interest</th>
                                <th>Total Payout</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="membersTable">
                            <!-- dynamic rows -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div style="margin-top:12px;" class="small muted">
                Tip: Click "Apply Weekly Progress" to simulate interest compounding. Withdraw removes a student and frees their slot.
            </div>
        </div>
    </div>

    <script src="app/script.js"></script>
</body>
</html>